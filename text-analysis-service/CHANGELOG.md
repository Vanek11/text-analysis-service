# Changelog

Все значимые изменения в проекте документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [1.2.0] - 2025-01-XX

### Добавлено

#### Новые функции NLP Service
- ✅ Классификация прилагательных
  - Классификация по типу (Descriptive, Quantitative, Demonstrative, Possessive, Interrogative, Distributive, Indefinite)
  - Анализ степеней сравнения (Positive, Comparative, Superlative)
  - Правила образования степеней сравнения
- ✅ Анализ грамматических конструкций
  - Временные конструкции (все 12 времен английского языка)
  - Условные предложения (Type 1, 2, 3)
  - Косвенная речь (Reported Speech)
  - Пассивный залог (Passive Voice)
- ✅ Анализ предлогов
  - Классификация предлогов (Time, Place, Direction, Agent, Instrument, Purpose, Possession, Manner, Cause, Concession, Exception)
  - Анализ предложных фраз
  - Определение вложенных предложных фраз
- ✅ Метрики синтаксической сложности
  - Средняя длина предложения
  - Средняя глубина дерева зависимостей
  - Коэффициент сложности
  - Лексическое разнообразие (TTR - Type-Token Ratio)
  - Индекс Flesch-Kincaid (читаемость)
  - Определение уровня CEFR (A1-C2)

#### Новые утилиты
- `adjective_analyzer.py` - анализ прилагательных и степеней сравнения
- `grammar_constructions.py` - анализ грамматических конструкций
- `preposition_analyzer.py` - классификация предлогов и анализ предложных фраз
- `complexity_analyzer.py` - расчет метрик синтаксической сложности

#### Расширенные схемы данных
- Новое поле `adjective_analysis` в Token
- Новое поле `preposition_analysis` в Token
- Новое поле `grammar_constructions` в ответе API
- Новое поле `nested_prepositional_phrases` в ответе API
- Новое поле `complexity_metrics` в ответе API
- Обновлена статистика для включения прилагательных и предлогов

#### Frontend компоненты
- ✅ Вкладка "Прилагательные" (`AdjectivesTab`)
  - Фильтрация по типу и степени сравнения
  - Отображение правил образования степеней
  - Поиск по тексту
- ✅ Вкладка "Грамматические конструкции" (`GrammarConstructionsTab`)
  - Группировка по типам конструкций
  - Фильтрация и поиск
  - Детальная информация по каждой конструкции
- ✅ Вкладка "Предлоги" (`PrepositionsTab`)
  - Классификация предлогов
  - Визуализация вложенных предложных фраз
  - Фильтрация по типу
- ✅ Вкладка "Анализ сложности" (`ComplexityAnalysisTab`)
  - Отображение уровня CEFR с цветовой индикацией
  - Радарная диаграмма метрик сложности
  - Детальная статистика по всем метрикам
  - Bar Chart для основных статистик текста

#### Новые визуализации
- ✅ Radar Chart (радарная диаграмма) для POS-тегов и метрик сложности
- ✅ Word Cloud (облако слов) для частотного анализа
- ✅ Timeline (хронология) для анализа предложений
- ✅ Улучшенные Bar Charts и Pie Charts

#### Интернационализация
- ✅ Добавлены переводы для всех новых компонентов (EN/RU)

---

## [1.1.0] - 2025-01-XX

### Добавлено

#### Новые функции NLP Service
- ✅ Анализ причастий (Present и Past Participles) с определением ролей
  - Определение ролей: Progressive Tense, Perfect Tense, Passive Voice, Adjective, Gerund, Absolute Construction
- ✅ Расширенный анализ глаголов (модальные, вспомогательные, фразовые)
  - Определение модальных глаголов с их значениями
  - Определение вспомогательных глаголов (be, have, do)
  - Определение фразовых глаголов с частицами
- ✅ Классификация наречий (семантическая и морфологическая)
  - Семантическая классификация: Manner, Time, Place, Frequency, Degree, Sentence
  - Морфологическая классификация: Simple, Derived, Compound, Phrasal
  - Определение модифицируемых слов
- ✅ Проверка грамматики
  - Subject-Verb Agreement проверка
  - Article Usage проверка
  - Verb Tense Consistency проверка
- ✅ Расширенная статистика анализа

#### Новые утилиты
- `participle_analyzer.py` - анализ причастий и их ролей
- `verb_analyzer.py` - определение типов глаголов
- `adverb_classifier.py` - классификация наречий
- `grammar_checker.py` - проверка грамматических ошибок

#### Расширенные схемы данных
- Новые поля в Token: `verb_type`, `participle`, `adverb_classification`
- Новое поле `statistics` в ответе API
- Новое поле `grammar_errors` в ответе API с типизированными ошибками

#### Frontend компоненты
- ✅ Вкладка "Причастия" (`ParticiplesTab`) с таблицей и фильтрами
  - Фильтрация по типу (Present/Past)
  - Фильтрация по роли
  - Поиск по тексту
- ✅ Вкладка "Наречия" (`AdverbsTab`) с классификацией
  - Фильтрация по семантике и морфологии
  - Визуализация связей наречий с модифицируемыми словами
  - Поиск по тексту
- ✅ Расширенная вкладка "Глаголы" (`VerbsTab`) с типами
  - Фильтрация по типу глагола (Regular, Modal, Auxiliary, Phrasal)
  - Отображение деталей модальных глаголов
  - Отображение фразовых глаголов с частицами
  - Поиск по тексту
- ✅ Вкладка "Статистика" (`StatisticsTab`) с визуализациями
  - Pie Chart для распределения POS-тегов
  - Bar Chart для POS-тегов
  - Heat Map распределения частей речи
  - Сводная статистика по причастиям, глаголам и наречиям
- ✅ Вкладка "Проверка грамматики" (`GrammarCheckTab`)
  - Отображение ошибок и предупреждений
  - Группировка по типам ошибок
  - Предложения по исправлению
- ✅ Улучшенное дерево зависимостей с фильтрацией
  - Фильтрация по POS-тегам
  - Фильтрация по типам зависимостей
  - Работает в обоих режимах (интерактивном и статическом)

#### Визуализация
- ✅ Визуализация связей наречий с модифицируемыми словами
- ✅ Интеграция библиотеки Recharts для графиков

#### Интернационализация
- ✅ Добавлены переводы для всех новых компонентов (EN/RU)

### Изменено
- Обновлен компонент `AnalysisResults` для поддержки новых вкладок
- Улучшена структура ответа API для включения статистики и ошибок грамматики

---

## [1.0.0] - 2025-12-10

### Добавлено
- Базовый анализ текста с POS-тегированием
- Dependency parsing (синтаксический разбор)
- Анализ грамматических характеристик (времена, залоги, вид)
- Лемматизация
- Интерактивная визуализация дерева зависимостей (D3.js)
- Статическое представление дерева зависимостей
- Таблица токенов с фильтрацией
- Грамматическая сводка по глаголам
- Интернационализация (русский/английский интерфейс)
- Кэширование результатов через Redis
- Асинхронная обработка длинных текстов через очередь (Bull)
- REST API для анализа текста
- Docker контейнеризация всех сервисов
- Health checks для всех сервисов

### Технические детали
- Frontend: React + Vite
- Backend: Node.js + Express
- NLP Service: Python + FastAPI + spaCy
- Кэширование: Redis
- Очередь задач: Bull

---

## Типы изменений

- `Добавлено` - для новых функций
- `Изменено` - для изменений в существующей функциональности
- `Устарело` - для функций, которые скоро будут удалены
- `Удалено` - для удаленных функций
- `Исправлено` - для исправления ошибок
- `Безопасность` - в случае уязвимостей

